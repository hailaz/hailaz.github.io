"use strict";(self.webpackChunkhailaz_github_io=self.webpackChunkhailaz_github_io||[]).push([[7763],{3012:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>i});const t=JSON.parse('{"id":"learn/web/2023-05-29","title":"JavaScript","description":"\u53d6\u6d88\u8bf7\u6c42\uff0c\u89e6\u53d1golang\u7684context cancel","source":"@site/docs/learn/web/2023-05-29.md","sourceDirName":"learn/web","slug":"/learn/web/2023-05-29","permalink":"/docs/learn/web/2023-05-29","draft":false,"unlisted":false,"editUrl":"https://github.com/hailaz/hailaz.github.io/blob/master/docs/learn/web/2023-05-29.md","tags":[],"version":"current","frontMatter":{"title":"JavaScript"},"sidebar":"learn","previous":{"title":"WebSocket","permalink":"/docs/learn/web/2019-07-15-websocket"},"next":{"title":"\u6d4f\u89c8\u5668\u63d2\u4ef6\u5546\u5e97","permalink":"/docs/learn/web/2023-08-08"}}');var o=r(4848),c=r(8453);const s={title:"JavaScript"},l=void 0,a={},i=[{value:"\u53d6\u6d88\u8bf7\u6c42\uff0c\u89e6\u53d1golang\u7684context cancel",id:"\u53d6\u6d88\u8bf7\u6c42\u89e6\u53d1golang\u7684context-cancel",level:2},{value:"\u4e0d\u540c\u5305\u6307\u5b9a\u4e0d\u540c\u6e90",id:"\u4e0d\u540c\u5305\u6307\u5b9a\u4e0d\u540c\u6e90",level:2}];function d(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"\u53d6\u6d88\u8bf7\u6c42\u89e6\u53d1golang\u7684context-cancel",children:"\u53d6\u6d88\u8bf7\u6c42\uff0c\u89e6\u53d1golang\u7684context cancel"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<meta http-equiv="Content-Security-Policy" content="connect-src \'self\'">\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// \u73b0\u5728\u4e0d\u7ba1\u7528\u7684\uff0c\u6d4f\u89c8\u5668\u4f1a\u62e6\u622a\r\nconst controller = new AbortController();\r\nconst signal = controller.signal;\r\n\r\nfetch('https://xxx', { signal })\r\n .then(response => {\r\n    // \u5904\u7406\u54cd\u5e94\u6570\u636e\r\n  })\r\n .catch(error => {\r\n    if (error.name === 'AbortError') {\r\n      console.log('\u8bf7\u6c42\u88ab\u53d6\u6d88');\r\n    } else {\r\n      console.error('\u8bf7\u6c42\u5931\u8d25', error);\r\n    }\r\n  });\r\n\r\nsetTimeout(() => {\r\n  // \u53d6\u6d88\u8bf7\u6c42\r\ncontroller.abort();\r\n}, 50);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u4e0d\u540c\u5305\u6307\u5b9a\u4e0d\u540c\u6e90",children:"\u4e0d\u540c\u5305\u6307\u5b9a\u4e0d\u540c\u6e90"}),"\n",(0,o.jsx)(n.p,{children:"\u5168\u5c40"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"npm config set @xxx:registry=https://mirrors.xxx.com/npm/\r\nnpm config set registry https://registry.npmjs.org/\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,o.jsx)(n.code,{children:".npmrc"}),"\u65b9\u5f0f\u9488\u5bf9\u7279\u5b9a\u9879\u76ee\uff0c\u9879\u76ee\u6839\u76ee\u5f55\u65b0\u5efa",(0,o.jsx)(n.code,{children:".npmrc"}),"\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"# \u4e3a\u4e86\u5b89\u88c5\u65e7\u7248\u672c\u4f9d\u8d56\r\nregistry=https://registry.npmjs.org/\r\n@xxx:registry=https://mirrors.xxx.com/npm/\n"})})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var t=r(6540);const o={},c=t.createContext(o);function s(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);